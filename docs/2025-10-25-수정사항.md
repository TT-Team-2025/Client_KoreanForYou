# 2025-10-25 수정사항

## 📋 작업 개요
프로젝트 개발 환경 설정 및 Figma 디자인에서 발생한 import 오류 수정

---

## 🔧 환경 설정

### 1. Node.js 버전 업그레이드
**문제**: Vite가 요구하는 Node.js 버전 불일치
- **이전 버전**: Node.js v18.20.6
- **변경 후**: Node.js v22.6.0
- **사용 도구**: nvm (Node Version Manager)

```bash
nvm use 22
```

**오류 내용**:
```
TypeError: crypto.hash is not a function
You are using Node.js 18.20.6. Vite requires Node.js version 20.19+ or 22.12+
```

**해결 결과**: ✅ Vite 개발 서버 정상 실행

---

### 2. 누락된 npm 패키지 설치

다음 패키지들이 프로젝트에 누락되어 있어 설치 완료:

```bash
npm install sonner tailwind-merge clsx
```

#### 설치된 패키지 설명:
- **sonner**: Toast 알림 라이브러리 (버전 2.0.3)
- **tailwind-merge**: Tailwind CSS 클래스 병합 유틸리티
- **clsx**: 조건부 CSS 클래스 생성 유틸리티

**사용 위치**:
- `sonner`: [SentenceLearningScreen.tsx](../src/components/SentenceLearningScreen.tsx)
- `tailwind-merge`, `clsx`: [ui/utils.ts](../src/components/ui/utils.ts)

---

## 🎨 Figma Asset Import 오류 수정

### 문제 상황
Figma에서 내보낸 컴포넌트들에 잘못된 asset import 경로가 포함되어 있었음:

```typescript
// ❌ 오류 코드
import logo from 'figma:asset/bb93c8a9bebb543de04c966c3ecf85e47a06d0de.png';
```

**오류 메시지**:
```
Failed to resolve import "figma:asset/bb93c8a9bebb543de04c966c3ecf85e47a06d0de.png"
Does the file exist?
```

### 수정된 파일들

#### 1. LoginScreen.tsx
**위치**: `src/components/LoginScreen.tsx`

**변경 사항**:
- Figma asset import 제거
- 이미지 로고를 텍스트 로고로 대체

```typescript
// Before
import logo from 'figma:asset/bb93c8a9bebb543de04c966c3ecf85e47a06d0de.png';
<img src={logo} alt="Korean For You" className="h-16 mx-auto mb-4" />

// After
<h1 className="text-4xl font-bold text-red-600 mb-4">Korean For You</h1>
```

#### 2. SignupScreen.tsx
**위치**: `src/components/SignupScreen.tsx`

**변경 사항**:
- Figma asset import 제거
- 로고 부분을 텍스트로 변경

```typescript
// Before
import logo from 'figma:asset/bb93c8a9bebb543de04c966c3ecf85e47a06d0de.png';
<img src={logo} alt="Korean For You" className="h-16 mx-auto mb-4" />

// After
<h1 className="text-4xl font-bold text-red-600 mb-4">Korean For You</h1>
```

#### 3. Navigation.tsx
**위치**: `src/components/Navigation.tsx`

**변경 사항**:
- 네비게이션 바의 로고 이미지를 텍스트로 변경

```typescript
// Before
import logo from 'figma:asset/bb93c8a9bebb543de04c966c3ecf85e47a06d0de.png';
<img src={logo} alt="Korean For You" className="h-9" />

// After
<h1 className="text-2xl font-bold text-red-600">Korean For You</h1>
```

#### 4. LandingPage.tsx
**위치**: `src/components/LandingPage.tsx`

**변경 사항**:
- 2개 위치의 로고 이미지를 텍스트로 변경 (헤더 및 푸터)

```typescript
// Before (Header)
<img src={logo} alt="Korean For You" className="h-10" />

// After (Header)
<h1 className="text-2xl font-bold text-red-600">Korean For You</h1>

// Before (Footer)
<img src={logo} alt="Korean For You" className="h-8 mb-4 brightness-0 invert opacity-80" />

// After (Footer)
<h3 className="text-xl font-bold text-white mb-4">Korean For You</h3>
```

---

## 🐛 기타 오류 수정

### SentenceLearningScreen.tsx - sonner import 오류

**위치**: `src/components/SentenceLearningScreen.tsx:7`

**문제**:
```typescript
// ❌ 잘못된 import (버전이 포함됨)
import { toast } from "sonner@2.0.3";
```

**수정**:
```typescript
// ✅ 올바른 import
import { toast } from "sonner";
```

---

## 📊 수정 결과

### 성공적으로 해결된 문제들
✅ Node.js 버전 호환성 문제
✅ 누락된 npm 패키지 설치
✅ Figma asset import 오류 (4개 파일)
✅ sonner 패키지 import 오류
✅ Vite HMR (Hot Module Reload) 정상 작동

### 개발 서버 상태
- **상태**: ✅ 정상 실행 중
- **URL**: http://localhost:5173/
- **빌드 시간**: ~140ms
- **HMR**: 정상 작동

---

## 🖼️ 로고 이미지 적용

### K4Y_logo.png 이미지로 전체 교체
**작업 일시**: 2025년 10월 25일

기존 텍스트 로고를 실제 K4Y_logo.png 이미지 파일로 전면 교체

#### 1. 타입 선언 파일 생성
**파일**: `src/vite-env.d.ts`

PNG 등 이미지 파일을 TypeScript에서 import할 수 있도록 타입 선언 추가:

```typescript
/// <reference types="vite/client" />

declare module '*.png' {
  const value: string;
  export default value;
}
// ... 기타 이미지 타입들
```

#### 2. TypeScript 설정 파일 생성

**파일 1**: `tsconfig.json`
```json
{
  "compilerOptions": {
    "target": "ES2020",
    "jsx": "react-jsx",
    "moduleResolution": "bundler",
    // ... 기타 설정
  }
}
```

**파일 2**: `tsconfig.node.json`
```json
{
  "compilerOptions": {
    "module": "ESNext",
    "moduleResolution": "bundler",
    // ... 기타 설정
  }
}
```

#### 3. Node.js 버전 관리 파일 생성

**파일**: `.nvmrc`
```
22
```

프로젝트에서 사용할 Node.js 버전을 명시하여, `nvm use` 명령어만으로 올바른 버전 사용 가능

#### 4. 로고 이미지 적용된 컴포넌트

**Navigation.tsx**
```typescript
import K4YLogo from "../assets/K4Y_logo.png";
<img src={K4YLogo} alt="Korean For You" className="h-10" />
```

**SignupScreen.tsx**
```typescript
import K4YLogo from "../assets/K4Y_logo.png";
<img src={K4YLogo} alt="Korean For You" className="h-16 mx-auto mb-4" />
```

**LoginScreen.tsx**
```typescript
import K4YLogo from "../assets/K4Y_logo.png";
<img src={K4YLogo} alt="Korean For You" className="h-16 mx-auto mb-4" />
```

**LandingPage.tsx** (2개 위치)
```typescript
import K4YLogo from "../assets/K4Y_logo.png";

// 네비게이션
<img src={K4YLogo} alt="Korean For You" className="h-10" />

// 푸터
<img src={K4YLogo} alt="Korean For You" className="h-8 mb-4" />
```

---

## ⚡ Tailwind CSS CDN 전환

### 작업 개요
기존 Tailwind CSS 빌드 파일 방식에서 CDN 방식으로 전환

### 변경 사항

#### 1. index.html - CDN 스크립트 추가
**파일**: `index.html`

Tailwind CSS CDN을 head 태그에 추가:

```html
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>client_koreanforyou</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
```

#### 2. src/index.css - 파일 정리
**파일**: `src/index.css`

기존의 방대한 Tailwind 빌드 파일(35,500+ 토큰)을 간단한 커스텀 스타일 파일로 변경:

```css
/* Before: Tailwind v4.1.3 전체 빌드 파일 (수천 줄) */

/* After: 커스텀 스타일용 파일 */
/* Custom styles for your application */
```

### CDN 방식의 장점
- ✅ 빌드 과정 불필요
- ✅ 파일 크기 대폭 감소
- ✅ 빠른 프로토타이핑 가능
- ✅ 별도의 Tailwind 설정 파일 불필요

### 수정된 파일
- `index.html` - Tailwind CSS CDN 추가
- `src/index.css` - 파일 정리 (커스텀 스타일용으로 변경)

---

## 🎯 향후 개선 사항

### 1. Node.js 버전 완전 업데이트
현재 v22.6.0을 사용 중이지만, Vite가 권장하는 v22.12+ 이상으로 업데이트 권장:

```bash
nvm install 22.12
nvm use 22.12
nvm alias default 22.12
```

### 2. package.json engines 필드 추가
프로젝트의 Node.js 버전 요구사항을 명시:

```json
{
  "engines": {
    "node": ">=22.12.0",
    "npm": ">=10.0.0"
  }
}
```

---

## 📝 수정된 파일 목록

### 초기 설정 및 오류 수정
1. `src/components/LoginScreen.tsx` - Figma asset import 제거, 텍스트 로고로 변경
2. `src/components/SignupScreen.tsx` - Figma asset import 제거, 텍스트 로고로 변경
3. `src/components/Navigation.tsx` - Figma asset import 제거, 텍스트 로고로 변경
4. `src/components/LandingPage.tsx` - Figma asset import 제거, 텍스트 로고로 변경 (2개 위치)
5. `src/components/SentenceLearningScreen.tsx` - sonner import 수정
6. `package.json` - sonner, tailwind-merge, clsx 패키지 추가

### 로고 이미지 적용
7. `src/vite-env.d.ts` - 이미지 파일 타입 선언 (신규 생성)
8. `tsconfig.json` - TypeScript 설정 파일 (신규 생성)
9. `tsconfig.node.json` - Vite용 TypeScript 설정 (신규 생성)
10. `.nvmrc` - Node.js 버전 지정 파일 (신규 생성)
11. `src/components/LoginScreen.tsx` - K4Y_logo.png import 및 적용
12. `src/components/SignupScreen.tsx` - K4Y_logo.png import 및 적용
13. `src/components/Navigation.tsx` - K4Y_logo.png import 및 적용
14. `src/components/LandingPage.tsx` - K4Y_logo.png import 및 적용 (네비게이션 및 푸터)

### Tailwind CSS CDN 전환
15. `index.html` - Tailwind CSS CDN 스크립트 추가
16. `src/index.css` - 파일 정리 (빌드 파일 → 커스텀 스타일용)

---

## 🔗 관련 링크

- [Vite 공식 문서](https://vitejs.dev/)
- [sonner 라이브러리](https://sonner.emilkowal.ski/)
- [Tailwind Merge 문서](https://github.com/dcastil/tailwind-merge)

---

**작업 완료 일시**: 2025년 10월 25일
**작업자**: Claude Code Assistant
